Before:
  call ale#assert#SetUpLinterTest('erlang', 'elp')

After:
  unlet! b:root
  call ale#test#RemoveCreatedDirectories()
  call ale#assert#TearDownLinterTest()

Execute(The default command should be correct):
  AssertLinter 'elp', ale#Escape('elp') . ' server'

Execute(Executable should be configurable):
  let b:ale_erlang_elp_executable = '/path/to/elp'

  AssertLinter '/path/to/elp', ale#Escape('/path/to/elp') . ' server'

Execute(Project root should be detected using .elp.toml):
  let b:root = ale#test#CreateDirectoryWith([
  \ '.elp.toml',
  \])

  call ale#test#SetFilename(b:root . '/src/app.erl')
  AssertLSPProject b:root

  let b:root = ale#test#CreateDirectoryWith([
  \ '_build/default/lib/dep/.elp.toml',
  \ '.elp.toml',
  \])

  call ale#test#SetFilename(b:root . '/_build/default/lib/dep/src/dep.erl')
  AssertLSPProject b:root

  let b:root = ale#test#CreateDirectoryWith([
  \ 'deps/dep/.elp.toml',
  \ '.elp.toml',
  \])

  call ale#test#SetFilename(b:root . '/deps/dep/src/dep.erl')
  AssertLSPProject b:root
